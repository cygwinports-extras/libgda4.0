--- origsrc/libgda-4.1.11/libgda-ui/data-entries/plugins/Makefile.am	2010-09-14 15:15:55.000000000 -0500
+++ src/libgda-4.1.11/libgda-ui/data-entries/plugins/Makefile.am	2010-09-16 09:00:10.040272300 -0500
@@ -45,7 +45,7 @@ libgda_ui_plugins_la_SOURCES = \
 	gdaui-entry-pict.c \
 	$(gcrypt_sources)
 
-libgda_ui_plugins_la_LDFLAGS = -export-dynamic -module -avoid-version
+libgda_ui_plugins_la_LDFLAGS = -export-dynamic -module -avoid-version $(NO_UNDEFINED)
 libgda_ui_plugins_la_LIBADD = \
 	$(top_builddir)/libgda/libgda-4.0.la \
         $(top_builddir)/libgda-ui/libgda-ui-4.0.la \
--- origsrc/libgda-4.1.11/providers/sqlcipher/Makefile.am	2010-09-15 03:36:07.000000000 -0500
+++ src/libgda-4.1.11/providers/sqlcipher/Makefile.am	2010-09-16 09:07:18.155312500 -0500
@@ -21,9 +21,11 @@ libgda_sqlcipher_la_SOURCES = \
 	$(sqlite_sources) \
 	libmain.c
 
-libgda_sqlcipher_la_LDFLAGS = -export-dynamic -module -avoid-version $(LIBTOOL_PROV_EXPORT_OPTIONS)
+libgda_sqlcipher_la_LDFLAGS = -export-dynamic -module -avoid-version $(NO_UNDEFINED) $(LIBTOOL_PROV_EXPORT_OPTIONS)
 libgda_sqlcipher_la_LIBADD = \
 	$(top_builddir)/libgda/sqlite/libgda-sqlcipher.la \
+	$(top_builddir)/libgda/libgda-4.0.la \
+	$(LIBGDA_LIBS) \
 	$(LIBCRYPTO_LIBS)
 
 xmldir   = $(datadir)/libgda-4.0
--- origsrc/libgda-4.1.11/providers/sqlite/Makefile.am
+++ src/libgda-4.1.11/providers/sqlite/Makefile.am
@@ -15,7 +15,9 @@ libgda_sqlite_la_SOURCES = \
 	libmain.c
 
-libgda_sqlite_la_LDFLAGS = -export-dynamic -module -avoid-version $(LIBTOOL_PROV_EXPORT_OPTIONS)
-libgda_sqlite_la_LIBADD = 
+libgda_sqlite_la_LDFLAGS = -export-dynamic -module -avoid-version $(NO_UNDEFINED) $(LIBTOOL_PROV_EXPORT_OPTIONS)
+libgda_sqlite_la_LIBADD = \
+	$(top_builddir)/libgda/libgda-4.0.la \
+	$(LIBGDA_LIBS)
 
 xmldir   = $(datadir)/libgda-4.0
 xml_in_files = \
